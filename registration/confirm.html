<!-- @author Kimberly Raymer -->
<!-- This html file is for when the user has finished filling out all their information -->
<!-- It will present all the information they've filled out and gives a chance to officially submit or cancel the form -->
<!-- Redirects to pay.html if submit -->
<!-- NOTE: This is the final submission the user makes which sends the request to the backend -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="r_function.js" defer></script>
    <title>Confirmation Page</title>

    <script src=
    "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
      </script>
      <script src=
    "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js">
      </script>
      <script src=
    "https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js">
      </script>

    <script>
        window.onload = function () { 

            // To display to user all their information from registration page
            for (const [field1, field2] of fieldMap) {
                document.getElementById(field1).innerHTML = localStorage.getItem(field2);
            }

            // if poster is filled out then it will become visible
            if (localStorage.getItem('posterY_N') === "Yes") {
                for (const [fieldP1, fieldP2] of fieldPost) {
                    if (fieldP2 === "authorsAffil") {
                        document.getElementById(fieldP1).innerHTML = JSON.parse(localStorage.getItem(fieldP2));
                    }
                    else {
                        document.getElementById(fieldP1).innerHTML = localStorage.getItem(fieldP2);
                    }
                        
                }
            }
            //else hide table cells that were to present poster information
            else {
                var hide = document.getElementsByClassName('hidePost');
                for (var i = 0, length = hide.length; i < length; i++) {
                    hide[i].style.display = 'none';
                }
            }
        }
    </script>

</head>
<body>
    <header>
        Confirmation Page
    </header>
   <!-- confirmation page -->
    <div id="confirmTable" class="container">   
            <div id="displayConfirmTable" class="container">
                <table class="form">
                    <tr>
                        <td><b>Name</b></td>
                        <td id="cfName"></td>
                    </tr>
                    <tr>
                        <td><b>Email</b></td>
                        <td id="cEmail"></td>
                    </tr>
                    <tr>
                        <td><b>Country</b></td>
                        <td id="cCountry"></td>
                    </tr>
                    <tr>
                        <td><b>Address</b></td>
                        <td id="cAddress"></td>
                    </tr>
                    <tr>
                        <td><b>City</b></td>
                        <td id="cCity"></td>
                    </tr>
                    <tr>
                        <td><b>State</b></td>
                        <td id="cState"></td>
                    </tr>
                    <tr>
                        <td><b>Zip/Postal Code</b></td>
                        <td id="cZip"></td>
                    </tr>
                    <tr>
                        <td><b>Badge</b></td>
                        <td id="cBadge"></td>
                    </tr>
                    <tr>
                        <td><b>Affiliation</b></td>
                        <td id="cAffiliation"></td>
                    </tr>
                    <tr>
                        <td><b>Employment</b></td>
                        <td id="cEmployment"></td>
                    </tr>
                    <tr>
                        <td><b>Discipline</b></td>
                        <td id="cDiscipline"></td>
                    </tr>
                    <tr>
                        <td><b>Dietary Restrictions</b></td>
                        <td id="cDiet"></td>
                    </tr>
                    <tr>
                        <td><b>Staying at Sheraton</b></td>
                        <td id="cSheraton"></td>
                    </tr>
                    <tr>
                        <td><b>Presenting a Poster</b></td>
                        <td id="cPosterY_N"></td>
                    </tr>
                    <tr>
                        <td><b>Share with Third Party</b></td>
                        <td id="cthirdPartyShare"></td>
                    </tr>
                    <!-- If presenting poster is yes -->
                    <tr class="hidePost">
                        <td><b>Title</b></td>
                        <td id="cTitle"></td>
                    </tr>
                    <tr class="hidePost">
                        <td><b>Abstract</b></td>
                        <td id="cAbstract"></td>
                    </tr>
                    <tr class="hidePost">
                        <td><b>Authors</b></td>
                        <td id="cAuthors"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td align="right">
                            <button onclick="return confirmationReg()" type="submit" class="submitBttnColor" id="confirmBttn">Confirm</button>
                            <a href="registration.html">
                                <input class="clearBttnColor" id="clearBttn"  value="Cancel">
                            </a>
                        </td>
                </tr>
                </table>
            </div>
    </div>
</body>
</html>